(function(){var n;n=function(){function n(n){this.collection=n}return n.prototype.updateCollection=function(n){for(var i,t=0,r=n.length;t<r;t++){i=n[t];try{this.applyModelUpdate(i)}catch(u){console.warn("CollectionManager[updateCollection]: Error while applying model update"),console.error(u.message)}}return this.collection.trigger("colUpdateApplied"),SearchManager.applySearchCriteria(this.collection,{silent:!0}),this.collection.sort()},n.prototype.applyModelUpdate=function(n){var t,i,r,u=this;if(n==null)throw"modelUpdate not defined";return i=!1,r=null,this.collection.each(function(t){try{if(r=u.getModelKey(n),t.get("key")===r)return i=!0,u.updateModel(t,n)}catch(f){return console.warn("CollectionManager[applyModelUpdate]: Error while applying model update"),console.error(f.message)}}),i?void 0:(t=new CacheInfo(n),t.updateCacheStats(),this.collection.add(t,{sort:!1}))},n.prototype.getModelKey=function(n){var t;if(n==null)throw"modelInfo not defined";if(t=n.CacheName,t==null)throw"failed to get model key";return t},n.prototype.updateModel=function(n,t){var i;for(i in t)n.set(i,t[i]);return n.trigger("modUpdateApplied")},n}(),window.CollectionManager=n}).call(this)